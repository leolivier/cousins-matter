{% extends "cm_main/base.html" %}
{% load i18n cm_tags %}
{% block title %}{% title _("Private Room Members") %} {% endblock %}
{% block content %}
<div class="container px-2">
	<h1 class="title is-centered">{% title _("Private Room Members") %}</h1>
	<div class="panel">
		<div class="panel-heading is-flex is-align-items-center is-justify-content-center">
			<span class="is-flex-grow-1 has-text-centered">
				{%blocktranslate with room_name=room.name trimmed%}
				Members of "{{room_name}}" private room
				{%endblocktranslate%}
			</span>
			{%trans 'Back to room' as back_room%}
			<div class="buttons has-addons is-rounded ml-auto">  {# ml-auto to push on the right#}
				<a class="button" title="{{back_room}}" href="{% url 'chat:private_room' room.slug %}">
					{%icon 'back'%}
					<span class="is-hidden-mobile">{{back_room}}</span>
				</a>
				{%trans 'Leave this room' as leave_room%}
				<a class="button" title="{{leave_room}}" href="{% url 'chat:leave_private_room' room.slug %}">
					{%icon 'leave-group'%}
					<span class="is-hidden-mobile">{{leave_room}}</span>
				</a>
				{%if user in room.admins.all %}
				<a class="button" href="{%url 'chat:add_member_to_private_room' room.slug 0 %}">
						{%icon "members" %} <span>{%trans 'Add Members to Room' %}</span>
				</a>
				{%endif%}
			</div>
		</div>
		{% for member in members %}
		<div class="panel-block is-flex is-flex-wrap-wrap is-align-items-flex-start">
			<div class="panel-icon mini-avatar is-flex is-align-items-center is-justify-content-center is-flex-shrink-5 image">
				<img class="is-rounded" src="{{member.avatar_mini_url}}"	alt="{{member.username}}">
			</div>
			<div class="has-text-primary has-text-weight-bold has-text-left is-flex-grow-1 mr-5">
				{{member.get_full_name}}
				<a href="{%url 'members:detail' member.id %}" aria-label="{%trans 'profile'%}">
					{%icon "member-link" %}
				</a>
			</div>
			<a class="button" href="{%url 'chat:remove_member_from_private_room' room.slug member.id %}">
				{%icon "leave-group" %} <span>{%trans 'Remove Member from Room' %}</span>
			</a>
		</div>
		{%endfor%}
	</div>
</div>
{% endblock %}
