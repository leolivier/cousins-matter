{% load i18n %}
{% if birthdays_list %}
<div class="container">
    <h1 class="title has-text-centered">{% blocktranslate %}Birthdays in the next {{ndays}} days{% endblocktranslate %}</h1>
    <hr>
    <div class="fixed-grid has-2-cols">
      <div class="grid">
        {% for member in birthdays_list %}
        {% with when=member.when birthday=member.birthdate|date:"l d F" age=member.age age1=member.age|add:1 %}
        <div class="cell has-background-light-link has-text-right px-0 mx-0">
            <a href="{% url 'members:detail' member.id %}">{{ member.account.first_name }} {{ member.account.last_name }}</a>
        </div>
        <div class="cell has-background-light-primary px-0 mx-0
                has-text-{% if when == 0 %}danger{% elif when == 1 %}warning{% else %}primary{% endif %}">
            {% if when == 0 %}
                {% blocktranslate %}turns {{ age }} today, happy birthday!{% endblocktranslate %}
            {% elif when == 1 %}
                {% blocktranslate %}will turn {{ age1 }} tomorrow, happy birthday!{% endblocktranslate %}
            {% else %}
                {# TODO: manage locale for birthdate format #}
                {% blocktranslate %}will turn {{ age1 }} on {{ birthday }}{% endblocktranslate %}
            {% endif %}
            {% if when == 0 or when == 1 %}
            <i class="icon"><span class="mdi mdi-cake-variant-outline"></span></i>
            <i class="icon"><span class="mdi mdi-cake-variant"></span></i>
            <i class="icon"><span class="mdi mdi-cake-variant-outline"></span></i>
            {% endif %}
            <p>when={{when}}, next birthday={{member.next_birthday}}</p>
        </div>
        {% endwith %}
        {% endfor %}
      </div>
    </div>
</div>
{% else %}
<div>
    <p>{% blocktranslate %}No birthdays in next {{ndays}} days{% endblocktranslate %}.</p>
</div>
{% endif %}

