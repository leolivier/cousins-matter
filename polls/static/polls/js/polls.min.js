$(document).ready(function(){$('#id_open_to').change(function(){if($('#id_open_to').val()=='lst'){$('#div_id_closed_list').show();}else{$('#div_id_closed_list').hide();}});$('#id_open_to').trigger('change');});$(document).on('htmx:load',function(){const choice_types=['MC','SC','ME','SE'];$upsert_question_modal=$('#modal');$question_type=$upsert_question_modal.find('#id_question_type');$possible_choices=$upsert_question_modal.find('#div_id_possible_choices');$textarea=$possible_choices.find('textarea');$submit_button=$upsert_question_modal.find('.modal-card-foot button[type="submit"]');$possible_choices.hide();$submit_button.prop('disabled',false);$question_type.change(function(){if(choice_types.includes($(this).val())){$possible_choices.show();$textarea.on('keyup',()=>{let possible_choices=$textarea.val().trim().split('\n');if(possible_choices.length>1){$submit_button.prop('disabled',false);}else{$submit_button.prop('disabled',true);}});$textarea.trigger('keyup');}});$question_type.trigger('change');});